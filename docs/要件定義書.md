# Tri-force Koenji施設予約システム 要件定義書

## 1. プロジェクト概要

### 1.1 システム名
Tri-force Koenji施設予約システム

### 1.2 目的
Tri-force Koenji会員向けの施設予約管理システムを提供し、効率的な施設利用を実現する。

### 1.3 対象施設
- フリーマット（定員10名）
- フィットネス（定員4名）

### 1.4 開発プラットフォーム
- Google Apps Script (GAS)
- Google Spreadsheet
- Google Calendar

## 2. 機能要件

### 2.1 予約機能
- **予約フォーム表示**
  - 会員専用の予約フォームを表示
  - レスポンシブデザイン対応
  - Materialize CSS使用による美しいUI

- **予約情報入力**
  - メールアドレス（必須、バリデーション有り）
  - 予約施設（フリーマット/フィットネス）
  - 氏名（必須）
  - 連絡先（必須）
  - 利用開始日（必須、過去日選択不可）
  - 利用開始時間（必須、7:00-21:00、30分刻み）
  - 備考（任意）

- **予約処理**
  - 重複チェック（同時間帯の定員制限）
  - スプレッドシートへの予約データ保存
  - Googleカレンダーへのイベント登録
  - 利用時間は1時間固定

### 2.2 予約制限機能
- **定員制限**
  - フリーマット：同時間帯最大10名
  - フィットネス：同時間帯最大4名

- **時間制限**
  - 営業時間：7:00-21:00
  - 予約単位：30分刻み
  - 利用時間：1時間固定

- **日付制限**
  - 過去日の予約不可
  - 当日以降の予約のみ受付

### 2.3 データ管理機能
- **スプレッドシート連携**
  - 予約データの自動保存
  - タイムスタンプ記録
  - 「フォームの回答 2」シートに保存

- **カレンダー連携**
  - Googleカレンダーへの自動登録
  - イベント名：「予約：氏名 様：施設名」
  - 備考欄の内容をイベント説明に追加

### 2.4 UI/UX機能
- **動的UI**
  - 施設選択に応じた定員表示
  - 日付選択時の時間選択肢更新
  - リアルタイムバリデーション

- **フィードバック機能**
  - 予約完了メッセージ
  - エラーメッセージ表示
  - カレンダー表示リンク

## 3. 非機能要件

### 3.1 性能要件
- フォーム表示時間：3秒以内
- 予約処理時間：5秒以内
- 同時アクセス：最大50ユーザー

### 3.2 可用性要件
- システム稼働率：99.5%以上
- Google Apps Scriptの制限内での動作

### 3.3 セキュリティ要件
- 会員専用アクセス（メールアドレス必須）
- HTTPSによる通信暗号化
- 入力値のバリデーション

### 3.4 互換性要件
- モダンブラウザ対応（Chrome、Firefox、Safari、Edge）
- モバイルデバイス対応
- 日本語対応（タイムゾーン：Asia/Tokyo）

## 4. 技術要件

### 4.1 開発環境
- Google Apps Script
- HTML/CSS/JavaScript
- Materialize CSS Framework

### 4.2 データストレージ
- Google Spreadsheet（予約データ）
- Google Calendar（スケジュール管理）
- Google Apps Script Properties（設定情報）

### 4.3 設定管理
- SPREADSHEET_ID：予約データ保存先
- CALENDAR_ID：カレンダー連携先
- RECEPTION_URL：予約フォームURL

## 5. 制約事項

### 5.1 技術的制約
- Google Apps Scriptの実行時間制限（6分）
- Google Apps Scriptの日次実行制限
- スプレッドシートのセル数制限

### 5.2 運用制約
- 管理者による手動設定が必要
- カレンダーの手動削除には対応していない
- 予約キャンセル機能は含まれていない

## 6. 今後の拡張予定

### 6.1 機能拡張
- 予約キャンセル機能
- 予約変更機能
- 利用履歴表示
- 自動リマインダー機能

### 6.2 管理機能
- 管理者ダッシュボード
- 利用統計機能
- 設定管理画面

## 7. 成功基準

### 7.1 定量的指標
- 予約処理成功率：95%以上
- システム障害発生率：月1回以下
- ユーザー満足度：4.0以上（5段階評価）

### 7.2 定性的指標
- 予約プロセスの簡素化
- 施設利用効率の向上
- 管理業務の軽減
